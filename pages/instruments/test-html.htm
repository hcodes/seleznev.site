<style>
    .widget {
        
        float: left;
        width: 40%;
        margin-top: 2em;
        margin-right: 5em;
    }
</style>

<p>Часто приходится проверять работу небольших js-скриптов и HTML, для этого и нужна эта форма.</p>
<div class="widget">
    HTML:<br />
    <textarea id="test-html" style="width:100%; height:15em; resize: both;"></textarea><br />
    <input type="button" id="go-test-html" value="Вставить" />&nbsp;&nbsp;&nbsp;<input type="button" id="reset-html" value="Сброс" /><br /><br />
    Тестовый HTML:
    <div id="html" style="border:1px dotted #aaa;"></div>
</div>
<div class="widget">
    JavaScript:<br />
    <textarea id="test-js" style="width:100%; height:15em; resize: both;"></textarea><br />
    <input type="button" id="go-test-js" value="Выполнить" />&nbsp;&nbsp;&nbsp;<input type="button" id="reset-js" value="Сброс" /><br /><br />
    Результат eval:
    <div id="result-eval" style="border:1px dotted #aaa;"></div>
</div>
<div style="clear:both;"></div>
<script>
    function escapeHTML(t) {
        return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
    }
    
    $(document).ready(function() {
        $('#go-test-html').click(function() {
            $('#html').html($('#test-html').val());
        });
        
        $('#go-test-js').click(function() {
            try {
                var res = '' + eval($('#test-js').val());
                $('#result-eval').html(escapeHTML(res));
            }
            catch(e) {
                $('#result-eval').html('<span style="color:red">' + e + '<\/span>');
            }
        });
        
        $('#reset-html').click(function() {
            $('#test-html').val('');
            $('#html').html('');
        });
        
        $('#reset-js').click(function() {
            $('#test-js').val('');
            $('#result-eval').html('');
        });
    });
</script>
